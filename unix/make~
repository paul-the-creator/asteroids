##########
asteroids
made by paul_the_creator (10/2013)
##########

CC            = gcc
CXX           = g++
CFLAGS        = -pipe -O2 -Wall -W $(DEFINES)
CXXFLAGS      = -std=c++0x -O2 -Wall -W $(DEFINES)
INCPATH       = -I/usr/share/qt4/mkspecs/linux-g++ -I. -I../3rdLibraries
LFLAGS        =
LIBS          = $(SUBLIBS)   -L./../3rdLibraries/GL -lglut 
COPY          = cp -f
COPY_FILE     = $(COPY)
COPY_DIR      = $(COPY) -r
DEL_FILE      = rm -f
DEL_DIR       = rmdir
MOVE          = mv -f
CHK_DIR_EXISTS= test -d
MKDIR         = mkdir -p

OBJECTS_DIR   = obj/
DESTDIR       = bin/
TARGET        = bin/asteroids

SOURCES       = ../source/main.cpp \
		../source/Game.cpp \
		../source/ObjectManager.cpp \
		../source/Object.cpp \
		../source/Asteroid.cpp \
		../source/Bullet.cpp \
		../source/FlyingSaucer.cpp \
		../source/Laser.cpp \
		../source/SpaceShip.cpp 

OBJECTS       = obj/main.o \
		obj/Game.o \
		obj/ObjectManager.o \
		obj/Object.o \
		obj/Asteroid.o \
		obj/Bullet.o \
		obj/FlyingSaucer.o \
		obj/Laser.o \
		obj/SpaceShip.o

all : $(SOURCES) $(TARGET)

$(TARGET): obj_dir $(OBJECTS)  
	@$(CHK_DIR_EXISTS) bin/ || $(MKDIR) bin/ 
	$(CXX) $(LFLAGS) -o $(TARGET) $(OBJECTS) $(OBJCOMP) $(LIBS)

obj_dir:
	$(MKDIR) obj/

.cpp.o:
	$(CXX) -c $(CXXFLAGS) $(INCPATH) -o "$@" "$<"

.cc.o:
	$(CXX) -c $(CXXFLAGS) $(INCPATH) -o "$@" "$<"

.cxx.o:
	$(CXX) -c $(CXXFLAGS) $(INCPATH) -o "$@" "$<"

.C.o:
	$(CXX) -c $(CXXFLAGS) $(INCPATH) -o "$@" "$<"

.c.o:
	$(CC) -c $(CFLAGS) $(INCPATH) -o "$@" "$<"

obj/main.o: ../source/main.cpp ../source/Game.h \
		../source/ObjectManager.h \
		../source/Asteroid.h \
		../source/Object.h \
		../source/Point.h \
		../source/Bullet.h \
		../source/FlyingSaucer.h \
		../source/Laser.h \
		../source/SpaceShip.h
	$(CXX) -c $(CXXFLAGS) $(INCPATH) -o obj/main.o ../source/main.cpp

obj/Game.o: ../source/Game.cpp ../source/Game.h \
		../source/ObjectManager.h \
		../source/Asteroid.h \
		../source/Object.h \
		../source/Point.h \
		../source/Bullet.h \
		../source/FlyingSaucer.h \
		../source/Laser.h \
		../source/SpaceShip.h
	$(CXX) -c $(CXXFLAGS) $(INCPATH) -o obj/Game.o ../source/Game.cpp

obj/ObjectManager.o: ../source/ObjectManager.cpp ../source/ObjectManager.h \
		../source/Asteroid.h \
		../source/Object.h \
		../source/Point.h \
		../source/Bullet.h \
		../source/FlyingSaucer.h \
		../source/Laser.h \
		../source/SpaceShip.h
	$(CXX) -c $(CXXFLAGS) $(INCPATH) -o obj/ObjectManager.o ../source/ObjectManager.cpp

obj/Object.o: ../source/Object.cpp ../source/Object.h \
		../source/Point.h
	$(CXX) -c $(CXXFLAGS) $(INCPATH) -o obj/Object.o ../source/Object.cpp

obj/Asteroid.o: ../source/Asteroid.cpp ../source/Asteroid.h \
		../source/Object.h \
		../source/Point.h
	$(CXX) -c $(CXXFLAGS) $(INCPATH) -o obj/Asteroid.o ../source/Asteroid.cpp

obj/Bullet.o: ../source/Bullet.cpp ../source/Bullet.h \
		../source/Object.h \
		../source/Point.h
	$(CXX) -c $(CXXFLAGS) $(INCPATH) -o obj/Bullet.o ../source/Bullet.cpp

obj/FlyingSaucer.o: ../source/FlyingSaucer.cpp ../source/FlyingSaucer.h \
		../source/Object.h \
		../source/Point.h
	$(CXX) -c $(CXXFLAGS) $(INCPATH) -o obj/FlyingSaucer.o ../source/FlyingSaucer.cpp

obj/Laser.o: ../source/Laser.cpp ../source/Laser.h \
		../source/Bullet.h \
		../source/Object.h \
		../source/Point.h
	$(CXX) -c $(CXXFLAGS) $(INCPATH) -o obj/Laser.o ../source/Laser.cpp

obj/SpaceShip.o: ../source/SpaceShip.cpp ../source/SpaceShip.h \
		../source/Object.h \
		../source/Point.h
	$(CXX) -c $(CXXFLAGS) $(INCPATH) -o obj/SpaceShip.o ../source/SpaceShip.cpp
